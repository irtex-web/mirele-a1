"use strict";new Interface({requires:{vue:!0,jquery:!0},elements:{vue:["#compound-editor-body"]},vue:{delimiters:["{","}"],el:"#compound-editor-body",data:{markup:[]},mounted:function(){this.__updateMarkup(),jQuery(".jquery-sortable-compound").sortable({tolerance:"pointer",placeholder:"wp-mrl-placeholder",connectWith:"#compound-editor-trash-area",helper:"clone",opacity:.5,cursor:"move",update:function(){jQuery(this).sortable("serialize")},start:function(){},stop:function(){const a=jQuery("#compound-editor-body").attr("data-page-id");var b=[];for(const[a,c]of Object.entries(jQuery("#compound-editor-body > div"))){const a=jQuery(c).attr("data-id");a&&b.push(a)}new WPAjax("Compound-sort",{page:a,order:b})}}),jQuery("#compound-editor-trash-area").droppable({accept:"#compound-editor-body > div",activeClass:"wp-mrl-trash-active",hoverClass:"wp-mrl-trash-hover",drop:function(a,b){const c=jQuery(b.helper.context).attr("data-id"),d=jQuery(b.helper.context).attr("data-page-id"),e=new WPAjax("Compound-removeTemplate",{id:d,template:c});b.draggable.remove()}})},methods:{editProps:function(a){const b=Project.import("@form-props").vue;return b.open(Object.assign({page:parseInt(jQuery("#compound-editor-body").attr("data-page-id"))},a))},insertComponent:function(a){const b=Project.import("@form-createComponent").vue;return b.open(Object.assign({page:parseInt(jQuery("#compound-editor-body").attr("data-page-id"))},a))},__metaFieldClass:function(a){const b=(a||{}).editor||{};return`wp-mrl-field col-${b.col||12}`},__updateMarkup:function(){this.markup=[];const a=new WPAjax("Compound-getMarkup",{page:parseInt(jQuery("#compound-editor-body").attr("data-page-id"))});a.then(a=>{for(const[b,c]of Object.entries(a.data.data))this.markup.push({name:c.props.name||"default",id:b,fields:c.fields,props:c.props})})}}},ready:function(){}});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsSUFBZixFQUF1QixTQURoQixDQUViLEVBQUUsQ0FBRSxDQUZTLENBR2IsTUFBTSxDQUFFLENBQVEsQ0FBQyxNQUhKLENBSWIsS0FBSyxDQUFFLENBQVEsQ0FBQyxLQUpILENBQWpCLENBT1AsQ0FURCxDQVlILENBM0NJLENBckVSLENBUk0sQ0E0SFgsS0FBSyxDQUFFLFVBQW9CLENBRTFCLENBOUhVLENBQWYsQyIsImZpbGUiOiJjb21wb3VuZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlbGNvbWUgdG8gdGhlIHNvdXJjZSBjb2RlXG4gKlxuICog4paI4paI4paI4pWX4paR4paR4paR4paI4paI4paI4pWX4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWX4paR4paR4paR4paR4paR4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAgICDilpHilpHilpHilpHilpHilojilojilZfilpHilojilojilojilojilojilojilZdcbiAqIOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICAg4paR4paR4paR4paR4paR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdXG4gKiDilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZfilpHilpHilojilojilZHilpHilpHilpHilpHilpHilojilojilojilojilojilZfilpHilpEgICAgICAgIOKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWR4pWa4paI4paI4pWU4pWd4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWd4paR4paR4paI4paI4pWR4paR4paR4paR4paR4paR4paI4paI4pWU4pWQ4pWQ4pWd4paR4paRICAgICAgICDilojilojilZfilpHilpHilojilojilZHilpHilZrilZDilZDilZDilojilojilZdcbiAqIOKWiOKWiOKVkeKWkeKVmuKVkOKVneKWkeKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICAg4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4pWU4pWdXG4gKiDilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ0gICAgICAgIOKWkeKVmuKVkOKVkOKVkOKVkOKVneKWkeKVmuKVkOKVkOKVkOKVkOKVkOKVneKWkVxuICpcbiAqIOKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKWiOKVl+KWiOKWiOKVl+KWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKVl+KWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4pWX4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXXG4gKiDilojilojilojilojilojilojilojilZHilojilojilZHilpHilpHilojilojilZHilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilZTilojilojilZfilojilojilZHilojilojilZHilZrilojilojilojilojilojilZfilpHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilojilojilZHilojilojilojilojilojilojilZTilZ1cbiAqIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKVmuKVkOKVkOKVkOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl1xuICog4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4pWa4pWQ4pWd4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWR4paR4pWa4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4pWR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paR4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4paR4paI4paI4pWRXG4gKiDilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZDilZ3ilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilpHilZrilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilZrilZDilZ1cbiAqXG4gKlxuICpcbiAqIEBwYWNrYWdlIE1pcmVsZVxuICogQGF1dGhvciBNaXJlbGVcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKlxuICogQHNlZSBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxubmV3IEludGVyZmFjZSAoe1xuICAgIHJlcXVpcmVzOiB7XG4gICAgICAgIHZ1ZTogdHJ1ZSxcbiAgICAgICAganF1ZXJ5OiB0cnVlXG4gICAgfSxcbiAgICBlbGVtZW50czoge1xuICAgICAgICB2dWU6IFsnI2NvbXBvdW5kLWVkaXRvci1ib2R5J11cbiAgICB9LFxuICAgIHZ1ZToge1xuICAgICAgICBkZWxpbWl0ZXJzOiBbJ3snLCAnfSddLFxuICAgICAgICBlbDogXCIjY29tcG91bmQtZWRpdG9yLWJvZHlcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbWFya3VwOiBbXVxuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiAoRXZlbnQpIHtcblxuICAgICAgICAgICAgdGhpcy5fX3VwZGF0ZU1hcmt1cCgpO1xuXG4gICAgICAgICAgICAvLyBqUXVlcnkoXCIuanF1ZXJ5LXNlbGVjdGFibGUtY29tcG91bmRcIikuc2VsZWN0YWJsZSgpO1xuXG4gICAgICAgICAgICBqUXVlcnkoXCIuanF1ZXJ5LXNvcnRhYmxlLWNvbXBvdW5kXCIpLnNvcnRhYmxlKHtcbiAgICAgICAgICAgICAgICB0b2xlcmFuY2U6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIndwLW1ybC1wbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RXaXRoOiAnI2NvbXBvdW5kLWVkaXRvci10cmFzaC1hcmVhJyxcbiAgICAgICAgICAgICAgICBoZWxwZXI6ICdjbG9uZScsXG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiLFxuXG4gICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9SdW4gdGhpcyBjb2RlIHdoZW5ldmVyIGFuIGl0ZW0gaXMgZHJhZ2dlZCBhbmQgZHJvcHBlZCBvdXQgb2YgdGhpcyBsaXN0XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmRlciA9IGpRdWVyeSh0aGlzKS5zb3J0YWJsZSgnc2VyaWFsaXplJyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGpRdWVyeShcIiNjb21wb3VuZC1lZGl0b3ItdHJhc2gtYXJlYVwiKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRwYWdlID0galF1ZXJ5KFwiI2NvbXBvdW5kLWVkaXRvci1ib2R5XCIpLmF0dHIoJ2RhdGEtcGFnZS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJG9yZGVyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBlbGVtZW50XSBvZiBPYmplY3QuZW50cmllcyhqUXVlcnkoXCIjY29tcG91bmQtZWRpdG9yLWJvZHkgPiBkaXZcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkaWQgPSBqUXVlcnkoZWxlbWVudCkuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvcmRlci5wdXNoKCRpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBSZXF1ZXN0ID0gbmV3IFdQQWpheCgnQ29tcG91bmQtc29ydCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6ICRwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6ICRvcmRlclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBqUXVlcnkoXCIjY29tcG91bmQtZWRpdG9yLXRyYXNoLWFyZWFcIikuc2xpZGVVcCgnZmFzdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8galF1ZXJ5KFwiI2NvbXBvdW5kLWVkaXRvci1ib2R5XCIpLmRpc2FibGVTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgalF1ZXJ5KFwiI2NvbXBvdW5kLWVkaXRvci10cmFzaC1hcmVhXCIpLmRyb3BwYWJsZSh7XG4gICAgICAgICAgICAgICAgYWNjZXB0OiAnI2NvbXBvdW5kLWVkaXRvci1ib2R5ID4gZGl2JyxcbiAgICAgICAgICAgICAgICBhY3RpdmVDbGFzczogJ3dwLW1ybC10cmFzaC1hY3RpdmUnLFxuICAgICAgICAgICAgICAgIGhvdmVyQ2xhc3M6ICd3cC1tcmwtdHJhc2gtaG92ZXInLFxuICAgICAgICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICR0ZW1wbGF0ZSA9IGpRdWVyeSh1aS5oZWxwZXIuY29udGV4dCkuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkaWQgPSBqUXVlcnkodWkuaGVscGVyLmNvbnRleHQpLmF0dHIoJ2RhdGEtcGFnZS1pZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFJlcXVlc3QgPSBuZXcgV1BBamF4KCdDb21wb3VuZC1yZW1vdmVUZW1wbGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHVpLmRyYWdnYWJsZS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcblxuICAgICAgICAgICAgZWRpdFByb3BzOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkZm9ybSA9IFByb2plY3QuaW1wb3J0KCdAZm9ybS1wcm9wcycpLnZ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZvcm0ub3BlbihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoalF1ZXJ5KCcjY29tcG91bmQtZWRpdG9yLWJvZHknKS5hdHRyKCdkYXRhLXBhZ2UtaWQnKSlcbiAgICAgICAgICAgICAgICB9LCBldmVudCkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaW5zZXJ0Q29tcG9uZW50OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkZm9ybSA9IFByb2plY3QuaW1wb3J0KCdAZm9ybS1jcmVhdGVDb21wb25lbnQnKS52dWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRmb3JtLm9wZW4oT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGpRdWVyeSgnI2NvbXBvdW5kLWVkaXRvci1ib2R5JykuYXR0cignZGF0YS1wYWdlLWlkJykpXG4gICAgICAgICAgICAgICAgfSwgZXZlbnQpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9fbWV0YUZpZWxkQ2xhc3M6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRldmVudCA9IGV2ZW50fHx7fTtcbiAgICAgICAgICAgICAgICBjb25zdCAkZWRpdG9yID0gJGV2ZW50LmVkaXRvcnx8e307XG4gICAgICAgICAgICAgICAgcmV0dXJuIGB3cC1tcmwtZmllbGQgY29sLSR7JGVkaXRvci5jb2x8fDEyfWA7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBfX3VwZGF0ZU1hcmt1cDogZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1hcmt1cCA9IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG1haW4gcmVxdWVzdFxuICAgICAgICAgICAgICAgIGNvbnN0IFJlcXVlc3QgPSBuZXcgV1BBamF4KCdDb21wb3VuZC1nZXRNYXJrdXAnLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGpRdWVyeSgnI2NvbXBvdW5kLWVkaXRvci1ib2R5JykuYXR0cignZGF0YS1wYWdlLWlkJykpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBSZXF1ZXN0LnRoZW4oRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgdGVtcGxhdGVdIG9mIE9iamVjdC5lbnRyaWVzKEV2ZW50LmRhdGEuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya3VwLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRlbXBsYXRlLnByb3BzLm5hbWUgfHwgJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHRlbXBsYXRlLmZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogdGVtcGxhdGUucHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlYWR5OiBmdW5jdGlvbiAoRXZlbnQsICQpIHtcblxuICAgIH1cbn0pOyJdfQ==