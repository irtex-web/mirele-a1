"use strict";const CONFIG={modal:{width:800,height:600}},CompoundEditor=org.compound.editor=new org.interface({requires:{vue:!0,jquery:!0},elements:{vue:["#compound-editor"]},vue:{delimiters:["{","}"],el:"#compound-editor",data:{markup:[],selected:[],tools:{left:[{title:"...",icon:"dashicons dashicons-plus",href:!1,enabled:!0,click:function(){}},{title:"...",icon:"dashicons dashicons-plus",href:!1,enabled:!1,click:function(){}},{title:"...",icon:"dashicons dashicons-external",href:Compound.page_on_edit_url||!1,enabled:!0,click:function(){}}],right:[{title:"Remove selected templates",icon:"dashicons dashicons-trash",href:!1,enabled:!1,click:function(){return org.compound.editor.vue.transport().removeSelectedTemplates()}},{title:"Remove selected templates",icon:"dashicons dashicons-update",href:!1,enabled:!0,click:function(){return org.compound.editor.vue.reloadPage()}}]},ui:{notify:{type:"success",element:"[data-component=\"notify\"][data-namespace=\"editor\"][data-behavior=\"notify\"][data-role=\"notify\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")},notify:function(a,b){this.type=(b||{}).type||"success",this.show(),"undefined"==typeof(b||{}).html?jQuery(this.element).text((b||{}).text||"Not defined"):jQuery(this.element).html((b||{}).html||"Not defined"),setTimeout(()=>{this.hide()},(b||{}).timeout||2500)}},loader:{element:"[data-component=\"spinner\"][data-namespace=\"editor\"][data-behavior=\"loader\"][data-role=\"loader\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")}},error:{element:"[data-component=\"error\"][data-namespace=\"editor\"][data-behavior=\"error\"][data-role=\"error\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")}},layout:{element:"[data-behavior=\"layout\"][data-namespace=\"editor\"][data-component=\"layout\"][data-role=\"layout\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")},setSortable:function(a=!0){!0==a?jQuery(this.element).sortable("option","disabled",!1):!1==a&&jQuery(this.element).sortable("option","disabled",!0)},blur:function(){jQuery(this.element).blur(),jQuery(this.element).animate({opacity:.3})},focus:function(){jQuery(this.element).focus(),jQuery(this.element).animate({opacity:1})},getSelected:function(){return jQuery("[data-component=\"field-body\"][data-selected]").map((a,b)=>jQuery(b).attr("data-id")||0)||[]},mount:function(a){const b=this;jQuery(this.element).selectable({filter:"[data-component=\"field-body\"]",cancel:"[data-component=\"template-control\"],[data-component=\"field-component\"]",selected:function(c,d){jQuery(d.selected).attr("data-selected",!0),a.selected=b.getSelected()},selecting:function(c,d){jQuery(d.selected).attr("data-selected",!0),a.selected=b.getSelected()},unselected:function(c,d){jQuery(d.unselected).removeAttr("data-selected"),a.selected=b.getSelected()},unselecting:function(c,d){jQuery(d.unselected).removeAttr("data-selected"),a.selected=b.getSelected()}}),jQuery(this.element).sortable({axis:"xy",containment:"document",disabled:!0,placeholder:"__compound_box_placeholder",connectWith:jQuery("[data-behavior=\"droppable\"][data-namespace=\"editor\"]"),helper:"clone",opacity:.5,cursor:"move",forcePlaceholderSize:!0,revert:80,delay:0,update:function(){org.compound.editor.vue.updateOrder()},start:(b,c)=>{c.placeholder.height(c.item.height()),a.ui.trash.show(),a.ui.trash.mount()},stop:()=>{a.ui.layout.setSortable(!1),a.ui.trash.hide()}})},reset:function(){org.compound.editor.vue.selected=[],jQuery(this.element).selectable("refresh")}},body:{element:"[data-behavior=\"body\"][data-namespace=\"editor\"][data-component=\"body\"][data-role=\"body\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")}},trash:{element:"[data-behavior=\"trash\"][data-role=\"trash\"][data-component=\"trash\"][data-namespace=\"editor\"]",show:function(){jQuery(this.element).removeClass("hidden")},hide:function(){jQuery(this.element).addClass("hidden")},mount:function(){return jQuery(this.element).droppable({accept:jQuery("[data-component=\"field\"][data-namespace=\"editor\"]"),activeClass:"wp-mrl-trash-active",hoverClass:"__compound_box_action_unset_hover",drop:(a,b)=>{const c=jQuery(b.helper.context).attr("data-id")||!1;b.draggable.remove(),org.compound.editor.vue.removeTemplate({template:c}).then(()=>{})}})}}}},mounted:function(){this.updateMarkup().then(()=>{this.ui.loader.hide(this),this.ui.body.show(this),this.ui.layout.mount(this)}).catch(()=>{this.ui.loader.hide(this),this.ui.error.show(this)})},methods:{updateMarkup:function(){return new Promise((a,b)=>{org.web.request("Compound/getMarkup",{page:Compound.page_on_edit||0}).then(b=>{var c=[];for(const[a,d]of Object.entries(b.data))c.push({name:d.props.name||"default",id:a,fields:d.fields,props:d.props});this.markup=c,a(b.data)}).catch(a=>{b(a)})})},editProps:function(a){const b=org.references.form.get.component.props.vue;return b.__editor=this,b.open(Object.assign({page:Compound.page_on_edit||0},a))},insertComponent:function(a){const b=org.references.form.insert.component.vue;return b.__editor=this,b.open(Object.assign({page:Compound.page_on_edit||0},a))},editTemplate:function(a){const b=org.references.form.get.template.props.vue;return b.__editor=this,b.open(Object.assign({page:Compound.page_on_edit||0},a))},insertTemplate:function(a){const b=org.references.form.insert.template.vue;return b.__editor=this,b.open(Object.assign({page:Compound.page_on_edit||0},a))},removeTemplate:function(a){return org.web.request("Compound/removeTemplate",{page:Compound.page_on_edit||0,template:a.template})},reloadPage:function(){this.ui.layout.blur(),this.updateMarkup().then(()=>{this.ui.layout.focus(),org.compound.editor.vue.ui.notify.notify(!1,{html:"<span class=\"dashicons dashicons-saved\"></span> Changes have been successfully saved"})}).catch(()=>{this.ui.layout.focus()})},updateOrder:function(){var a=[];for(const[b,c]of Object.entries(jQuery("[data-component=\"field\"][data-namespace=\"editor\"]"))){const b=jQuery(c).attr("data-id");b&&a.push(b)}org.web.request("Compound/sortOrder",{page:Compound.page_on_edit||0,order:a})},transport:function(){const a=org.compound.editor.vue;return{removeSelectedTemplates:function(){0<a.selected.length&&a.removeTemplate({template:a.selected}).then(()=>{a.ui.layout.reset(),a.reloadPage()})},removeTemplate:function(b){if(b.template){const c=org.web.request("Compound/removeTemplate",{page:Compound.page_on_edit||0,template:b.template});c.then(()=>{a.reloadPage()}).catch(()=>{})}},cloneTemplate:function(b){if(b.template){const c=org.web.request("Compound/cloneTemplate",{page:Compound.page_on_edit||0,template:b.template});c.then(()=>{a.reloadPage()}).catch(()=>{})}}}},__menuActionEditTemplate:function(){},__metaFieldClass__:function(a){const b=(a||{}).editor||{};return`__compound_field col-${b.col||12}`}},filters:{capitalize:function(a){return a?(a=a.toString(),a.charAt(0).toUpperCase()+a.slice(1)):""}},watch:{selected:function(a){this.tools.right[0].enabled=!!(0<a.length)}}},ready:function(){document.addEventListener("keydown",a=>{const b=a.key||"",c=org.compound.editor.vue||{};"Delete"===b&&c.transport().removeSelectedTemplates()});org.compound.meta=new org.interface({requires:{vue:!0,jquery:!0},elements:{vue:["#compound-meta"]},vue:{delimiters:["{","}"],el:"#compound-meta",data:{updated:!0,meta:[]},mounted:function(){const a=this;org.web.request("Compound/getPage",{page:Compound.page_on_edit||0}).then(b=>{a.meta=b.data})},methods:{submit:function(){this.__show_loader();var a={};jQuery(jQuery("#compound-meta").serializeArray()).each(function(b,c){a[c.name]=c.value}),org.web.request("Compound/updatePage",{props:a,page:Compound.page_on_edit||0}).then(a=>{console.log(a.data),this.__hide_loader()})},__is_updated:function(){return this.updated},__show_loader:function(){return this.updated=!1},__hide_loader:function(){return this.updated=!0}},filters:{},watch:{}}})}});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IscUJBQWhCLENBQXVDLENBQ25DLEtBQUssQ0FBRSxDQUQ0QixDQUVuQyxJQUFJLENBQUUsUUFBUSxDQUFDLFlBQVQsRUFBeUIsQ0FGSSxDQUF2QyxFQUdHLElBSEgsQ0FHUSxDQUFLLEVBQUksQ0FDYixPQUFPLENBQUMsR0FBUixDQUFZLENBQUssQ0FBQyxJQUFsQixDQURhLENBRWIsS0FBSyxhQUFMLEVBQ0gsQ0FORCxDQVNILENBckJJLENBdUJMLFlBQVksQ0FBRSxVQUFZLENBQ3RCLE1BQU8sTUFBSyxPQUNmLENBekJJLENBMkJMLGFBQWEsQ0FBRSxVQUFZLENBQ3ZCLE1BQU8sTUFBSyxPQUFMLEdBQ1YsQ0E3QkksQ0ErQkwsYUFBYSxDQUFFLFVBQVksQ0FDdkIsTUFBTyxNQUFLLE9BQUwsR0FDVixDQWpDSSxDQWxCUixDQXNERCxPQUFPLENBQUUsRUF0RFIsQ0F1REQsS0FBSyxDQUFFLEVBdkROLENBUmtELENBQWxCLENBbUU1QyxDQTNmMEQsQ0FBbEIsQyIsImZpbGUiOiJjb21wb3VuZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlbGNvbWUgdG8gdGhlIHNvdXJjZSBjb2RlXG4gKlxuICog4paI4paI4paI4pWX4paR4paR4paR4paI4paI4paI4pWX4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWX4paR4paR4paR4paR4paR4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAgICDilpHilpHilpHilpHilpHilojilojilZfilpHilojilojilojilojilojilojilZdcbiAqIOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICAg4paR4paR4paR4paR4paR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdXG4gKiDilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZfilpHilpHilojilojilZHilpHilpHilpHilpHilpHilojilojilojilojilojilZfilpHilpEgICAgICAgIOKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWR4pWa4paI4paI4pWU4pWd4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWd4paR4paR4paI4paI4pWR4paR4paR4paR4paR4paR4paI4paI4pWU4pWQ4pWQ4pWd4paR4paRICAgICAgICDilojilojilZfilpHilpHilojilojilZHilpHilZrilZDilZDilZDilojilojilZdcbiAqIOKWiOKWiOKVkeKWkeKVmuKVkOKVneKWkeKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICAg4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4pWU4pWdXG4gKiDilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ0gICAgICAgIOKWkeKVmuKVkOKVkOKVkOKVkOKVneKWkeKVmuKVkOKVkOKVkOKVkOKVkOKVneKWkVxuICpcbiAqIOKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKWiOKVl+KWiOKWiOKVl+KWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKVl+KWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4pWX4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXXG4gKiDilojilojilojilojilojilojilojilZHilojilojilZHilpHilpHilojilojilZHilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilZTilojilojilZfilojilojilZHilojilojilZHilZrilojilojilojilojilojilZfilpHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilojilojilZHilojilojilojilojilojilojilZTilZ1cbiAqIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKVmuKVkOKVkOKVkOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl1xuICog4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4pWa4pWQ4pWd4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWR4paR4pWa4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4pWR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paR4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4paR4paI4paI4pWRXG4gKiDilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZDilZ3ilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilpHilZrilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilZrilZDilZ1cbiAqXG4gKlxuICpcbiAqIEBwYWNrYWdlIE1pcmVsZVxuICogQGF1dGhvciBNaXJlbGVcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKlxuICogQHNlZSBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgQ09ORklHID0ge1xuICAgIG1vZGFsOiB7XG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwXG4gICAgfVxufTtcblxuY29uc3QgQ29tcG91bmRFZGl0b3IgPSBvcmcuY29tcG91bmQuZWRpdG9yID0gbmV3IG9yZy5pbnRlcmZhY2Uoe1xuICAgIHJlcXVpcmVzOiB7XG4gICAgICAgIHZ1ZTogdHJ1ZSxcbiAgICAgICAganF1ZXJ5OiB0cnVlXG4gICAgfSxcbiAgICBlbGVtZW50czoge1xuICAgICAgICB2dWU6IFsnI2NvbXBvdW5kLWVkaXRvciddXG4gICAgfSxcbiAgICB2dWU6IHtcbiAgICAgICAgZGVsaW1pdGVyczogWyd7JywgJ30nXSxcbiAgICAgICAgZWw6IFwiI2NvbXBvdW5kLWVkaXRvclwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBtYXJrdXA6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IFtdLFxuICAgICAgICAgICAgdG9vbHM6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdkYXNoaWNvbnMgZGFzaGljb25zLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Rhc2hpY29ucyBkYXNoaWNvbnMtcGx1cycsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Rhc2hpY29ucyBkYXNoaWNvbnMtZXh0ZXJuYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogQ29tcG91bmQucGFnZV9vbl9lZGl0X3VybCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmlnaHQ6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdSZW1vdmUgc2VsZWN0ZWQgdGVtcGxhdGVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdkYXNoaWNvbnMgZGFzaGljb25zLXRyYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmcuY29tcG91bmQuZWRpdG9yLnZ1ZS50cmFuc3BvcnQoKS5yZW1vdmVTZWxlY3RlZFRlbXBsYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmVtb3ZlIHNlbGVjdGVkIHRlbXBsYXRlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZGFzaGljb25zIGRhc2hpY29ucy11cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JnLmNvbXBvdW5kLmVkaXRvci52dWUucmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgbm90aWZ5OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJ1tkYXRhLWNvbXBvbmVudD1cIm5vdGlmeVwiXVtkYXRhLW5hbWVzcGFjZT1cImVkaXRvclwiXVtkYXRhLWJlaGF2aW9yPVwibm90aWZ5XCJdW2RhdGEtcm9sZT1cIm5vdGlmeVwiXScsXG4gICAgICAgICAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5OiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IChldmVudCB8fCB7fSkudHlwZSB8fCAnc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnQgfHwge30pLmh0bWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuaHRtbCgoZXZlbnQgfHwge30pLmh0bWwgfHwgJ05vdCBkZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLnRleHQoKGV2ZW50IHx8IHt9KS50ZXh0IHx8ICdOb3QgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KEV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChldmVudCB8fCB7fSkudGltZW91dCB8fCAyNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdbZGF0YS1jb21wb25lbnQ9XCJzcGlubmVyXCJdW2RhdGEtbmFtZXNwYWNlPVwiZWRpdG9yXCJdW2RhdGEtYmVoYXZpb3I9XCJsb2FkZXJcIl1bZGF0YS1yb2xlPVwibG9hZGVyXCJdJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKHNlbGYsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnW2RhdGEtY29tcG9uZW50PVwiZXJyb3JcIl1bZGF0YS1uYW1lc3BhY2U9XCJlZGl0b3JcIl1bZGF0YS1iZWhhdmlvcj1cImVycm9yXCJdW2RhdGEtcm9sZT1cImVycm9yXCJdJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKHNlbGYsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJ1tkYXRhLWJlaGF2aW9yPVwibGF5b3V0XCJdW2RhdGEtbmFtZXNwYWNlPVwiZWRpdG9yXCJdW2RhdGEtY29tcG9uZW50PVwibGF5b3V0XCJdW2RhdGEtcm9sZT1cImxheW91dFwiXScsXG4gICAgICAgICAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0U29ydGFibGU6IGZ1bmN0aW9uIChib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xlYW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLnNvcnRhYmxlKFwib3B0aW9uXCIsIFwiZGlzYWJsZWRcIiwgIXRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChib29sZWFuID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuc29ydGFibGUoXCJvcHRpb25cIiwgXCJkaXNhYmxlZFwiLCAhZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBibHVyOiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuM1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9ICdbZGF0YS1jb21wb25lbnQ9XCJmaWVsZC1ib2R5XCJdW2RhdGEtc2VsZWN0ZWRdJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeSgkZWxlbWVudCkubWFwKChpLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeShlbGVtZW50KS5hdHRyKCdkYXRhLWlkJykgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vdW50OiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmVsZW1lbnQpLnNlbGVjdGFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogJ1tkYXRhLWNvbXBvbmVudD1cImZpZWxkLWJvZHlcIl0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDogJ1tkYXRhLWNvbXBvbmVudD1cInRlbXBsYXRlLWNvbnRyb2xcIl0sW2RhdGEtY29tcG9uZW50PVwiZmllbGQtY29tcG9uZW50XCJdJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodWkuc2VsZWN0ZWQpLmF0dHIoJ2RhdGEtc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZCA9IGNvbnRleHQuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGluZzogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodWkuc2VsZWN0ZWQpLmF0dHIoJ2RhdGEtc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZCA9IGNvbnRleHQuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWQ6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHVpLnVuc2VsZWN0ZWQpLnJlbW92ZUF0dHIoJ2RhdGEtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZCA9IGNvbnRleHQuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0aW5nOiBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh1aS51bnNlbGVjdGVkKS5yZW1vdmVBdHRyKCdkYXRhLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWQgPSBjb250ZXh0LmdldFNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5zb3J0YWJsZSh7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBcInh5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbm1lbnQ6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2xlcmFuY2U6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIl9fY29tcG91bmRfYm94X3BsYWNlaG9sZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdFdpdGg6IGpRdWVyeSgnW2RhdGEtYmVoYXZpb3I9XCJkcm9wcGFibGVcIl1bZGF0YS1uYW1lc3BhY2U9XCJlZGl0b3JcIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXI6ICdjbG9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VQbGFjZWhvbGRlclNpemU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJ0OiA4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogMCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmcuY29tcG91bmQuZWRpdG9yLnZ1ZS51cGRhdGVPcmRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IChldmVudCwgdWkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkucGxhY2Vob2xkZXIuaGVpZ2h0KHVpLml0ZW0uaGVpZ2h0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVpLnRyYXNoLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51aS50cmFzaC5tb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcDogKGV2ZW50LCB1aSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVpLmxheW91dC5zZXRTb3J0YWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudWkudHJhc2guaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZy5jb21wb3VuZC5lZGl0b3IudnVlLnNlbGVjdGVkID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5zZWxlY3RhYmxlKFwicmVmcmVzaFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnW2RhdGEtYmVoYXZpb3I9XCJib2R5XCJdW2RhdGEtbmFtZXNwYWNlPVwiZWRpdG9yXCJdW2RhdGEtY29tcG9uZW50PVwiYm9keVwiXVtkYXRhLXJvbGU9XCJib2R5XCJdJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKHNlbGYsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFzaDoge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnW2RhdGEtYmVoYXZpb3I9XCJ0cmFzaFwiXVtkYXRhLXJvbGU9XCJ0cmFzaFwiXVtkYXRhLWNvbXBvbmVudD1cInRyYXNoXCJdW2RhdGEtbmFtZXNwYWNlPVwiZWRpdG9yXCJdJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKHNlbGYsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIChzZWxmLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtb3VudDogZnVuY3Rpb24gKHNlbGYsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5KHRoaXMuZWxlbWVudCkuZHJvcHBhYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6IGpRdWVyeSgnW2RhdGEtY29tcG9uZW50PVwiZmllbGRcIl1bZGF0YS1uYW1lc3BhY2U9XCJlZGl0b3JcIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzczogJ3dwLW1ybC10cmFzaC1hY3RpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyQ2xhc3M6ICdfX2NvbXBvdW5kX2JveF9hY3Rpb25fdW5zZXRfaG92ZXInLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcDogKGV2ZW50LCB1aSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkdGVtcGxhdGUgPSBqUXVlcnkodWkuaGVscGVyLmNvbnRleHQpLmF0dHIoJ2RhdGEtaWQnKSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuZHJhZ2dhYmxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmcuY29tcG91bmQuZWRpdG9yLnZ1ZS5yZW1vdmVUZW1wbGF0ZSh7dGVtcGxhdGU6ICR0ZW1wbGF0ZX0pLnRoZW4oRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uIChFdmVudCkge1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmt1cCgpLnRoZW4oRGF0YSA9PiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLmxvYWRlci5oaWRlKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuYm9keS5zaG93KHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkubGF5b3V0Lm1vdW50KHRoaXMpO1xuXG4gICAgICAgICAgICB9KS5jYXRjaChEYXRhID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMudWkubG9hZGVyLmhpZGUodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5lcnJvci5zaG93KHRoaXMpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG5cbiAgICAgICAgICAgIHVwZGF0ZU1hcmt1cDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbWFpbiByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIG9yZy53ZWIucmVxdWVzdCgnQ29tcG91bmQvZ2V0TWFya3VwJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDBcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihFdmVudCA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkYnVmZmVyID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCB0ZW1wbGF0ZV0gb2YgT2JqZWN0LmVudHJpZXMoRXZlbnQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0ZW1wbGF0ZS5wcm9wcy5uYW1lIHx8ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHRlbXBsYXRlLmZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHRlbXBsYXRlLnByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya3VwID0gJGJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShFdmVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChFdmVudCA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVkaXRQcm9wczogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGZvcm0gPSBvcmcucmVmZXJlbmNlcy5mb3JtLmdldC5jb21wb25lbnQucHJvcHMudnVlXG4gICAgICAgICAgICAgICAgJGZvcm0uX19lZGl0b3IgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJldHVybiAkZm9ybS5vcGVuKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBDb21wb3VuZC5wYWdlX29uX2VkaXQgfHwgMFxuICAgICAgICAgICAgICAgIH0sIGV2ZW50KSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBpbnNlcnRDb21wb25lbnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRmb3JtID0gb3JnLnJlZmVyZW5jZXMuZm9ybS5pbnNlcnQuY29tcG9uZW50LnZ1ZTtcbiAgICAgICAgICAgICAgICAkZm9ybS5fX2VkaXRvciA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRmb3JtLm9wZW4oT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IENvbXBvdW5kLnBhZ2Vfb25fZWRpdCB8fCAwLFxuICAgICAgICAgICAgICAgIH0sIGV2ZW50KSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlZGl0VGVtcGxhdGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRmb3JtID0gb3JnLnJlZmVyZW5jZXMuZm9ybS5nZXQudGVtcGxhdGUucHJvcHMudnVlO1xuICAgICAgICAgICAgICAgICRmb3JtLl9fZWRpdG9yID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZvcm0ub3BlbihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDBcbiAgICAgICAgICAgICAgICB9LCBldmVudCkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaW5zZXJ0VGVtcGxhdGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRmb3JtID0gb3JnLnJlZmVyZW5jZXMuZm9ybS5pbnNlcnQudGVtcGxhdGUudnVlO1xuICAgICAgICAgICAgICAgICRmb3JtLl9fZWRpdG9yID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZvcm0ub3BlbihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDAsXG4gICAgICAgICAgICAgICAgfSwgZXZlbnQpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlbW92ZVRlbXBsYXRlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JnLndlYi5yZXF1ZXN0KCdDb21wb3VuZC9yZW1vdmVUZW1wbGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBldmVudC50ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVsb2FkUGFnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkubGF5b3V0LmJsdXIoKVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya3VwKCkudGhlbihFdmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkubGF5b3V0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIG9yZy5jb21wb3VuZC5lZGl0b3IudnVlLnVpLm5vdGlmeS5ub3RpZnkoZmFsc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICc8c3BhbiBjbGFzcz1cImRhc2hpY29ucyBkYXNoaWNvbnMtc2F2ZWRcIj48L3NwYW4+IENoYW5nZXMgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBzYXZlZCdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLmxheW91dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdXBkYXRlT3JkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJG9yZGVyID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgZWxlbWVudF0gb2YgT2JqZWN0LmVudHJpZXMoalF1ZXJ5KCdbZGF0YS1jb21wb25lbnQ9XCJmaWVsZFwiXVtkYXRhLW5hbWVzcGFjZT1cImVkaXRvclwiXScpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkaWQgPSBqUXVlcnkoZWxlbWVudCkuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkb3JkZXIucHVzaCgkaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgUmVxdWVzdCA9IG9yZy53ZWIucmVxdWVzdCgnQ29tcG91bmQvc29ydE9yZGVyJywge1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBDb21wb3VuZC5wYWdlX29uX2VkaXQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6ICRvcmRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdHJhbnNwb3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IG9yZy5jb21wb3VuZC5lZGl0b3IudnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVNlbGVjdGVkVGVtcGxhdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVUZW1wbGF0ZSh7dGVtcGxhdGU6IHNlbGYuc2VsZWN0ZWR9KS50aGVuKEV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51aS5sYXlvdXQucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRlbXBsYXRlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFJlcXVlc3QgPSBvcmcud2ViLnJlcXVlc3QoJ0NvbXBvdW5kL3JlbW92ZVRlbXBsYXRlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBDb21wb3VuZC5wYWdlX29uX2VkaXQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGV2ZW50LnRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1ZXN0LnRoZW4oRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChFdmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsb25lVGVtcGxhdGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUmVxdWVzdCA9IG9yZy53ZWIucmVxdWVzdCgnQ29tcG91bmQvY2xvbmVUZW1wbGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBldmVudC50ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWVzdC50aGVuKEV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuXG5cbiAgICAgICAgICAgIF9fbWVudUFjdGlvbkVkaXRUZW1wbGF0ZTogZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9fbWV0YUZpZWxkQ2xhc3NfXzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGV2ZW50ID0gZXZlbnQgfHwge307XG4gICAgICAgICAgICAgICAgY29uc3QgJGVkaXRvciA9ICRldmVudC5lZGl0b3IgfHwge307XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBfX2NvbXBvdW5kX2ZpZWxkIGNvbC0keyRlZGl0b3IuY29sIHx8IDEyfWA7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgIGNhcGl0YWxpemU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHJldHVybiAnJ1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHZhbHVlLnNsaWNlKDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHdhdGNoOiB7XG4gICAgICAgICAgICBzZWxlY3RlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29scy5yaWdodFswXS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xzLnJpZ2h0WzBdLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlYWR5OiBmdW5jdGlvbiAoRXZlbnQsICQpIHtcblxuICAgICAgICAvLyBIb3RrZXkgcmVnaXN0cmF0aW9uXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBFdmVudCA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IEV2ZW50LmtleSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSBvcmcuY29tcG91bmQuZWRpdG9yLnZ1ZSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJEZWxldGVcIikge1xuICAgICAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0KCkucmVtb3ZlU2VsZWN0ZWRUZW1wbGF0ZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWV0YSBpbmZvXG4gICAgICAgIGNvbnN0IENvbXBvdW5kTWV0YSA9IG9yZy5jb21wb3VuZC5tZXRhID0gbmV3IG9yZy5pbnRlcmZhY2Uoe1xuICAgICAgICAgICAgcmVxdWlyZXM6IHtcbiAgICAgICAgICAgICAgICB2dWU6IHRydWUsXG4gICAgICAgICAgICAgICAganF1ZXJ5OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgICAgICAgICB2dWU6IFsnI2NvbXBvdW5kLW1ldGEnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZ1ZToge1xuICAgICAgICAgICAgICAgIGRlbGltaXRlcnM6IFsneycsICd9J10sXG4gICAgICAgICAgICAgICAgZWw6IFwiI2NvbXBvdW5kLW1ldGFcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IFtdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiAoRXZlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBvcmcud2ViLnJlcXVlc3QoJ0NvbXBvdW5kL2dldFBhZ2UnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBDb21wb3VuZC5wYWdlX29uX2VkaXQgfHwgMFxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKEV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWV0YSA9IEV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRob2RzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19zaG93X2xvYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHByb3BzID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShqUXVlcnkoJyNjb21wb3VuZC1tZXRhJykuc2VyaWFsaXplQXJyYXkoKSkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwcm9wc1tvYmoubmFtZV0gPSBvYmoudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgb3JnLndlYi5yZXF1ZXN0KCdDb21wb3VuZC91cGRhdGVQYWdlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiAkcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogQ29tcG91bmQucGFnZV9vbl9lZGl0IHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19oaWRlX2xvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgX19pc191cGRhdGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIF9fc2hvd19sb2FkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBfX2hpZGVfbG9hZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7fSxcbiAgICAgICAgICAgICAgICB3YXRjaDoge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG59KTsiXX0=