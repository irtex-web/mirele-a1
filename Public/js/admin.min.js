"use strict";jQuery(document).ready(()=>{let a=jQuery;if("function"!=typeof Vue)throw"VueJS not include";if("function"!=typeof a)throw"jQuery not include";new Vue({delimiters:["{","}"],el:"#mireleThemeSettings",data:{active:!1,tabs:[{name:"Basic settings",namespace:"basic",id:"basic"}],settings:[],options:!1,changes:[]},mounted:function(){app.request("namespaces",{}).then(a=>{if(a.data){this.tabs=[];for(const[b,c]of Object.entries(a.data))this.tabs.push({name:c,namespace:c,id:c})}}),app.request("options",{namespace:"all"}).then(a=>{this.options=!(typeof a.data!="object")&&a.data})},methods:{selectTab:function(a="*",b="default"){this.active=b||"*"||"basic",!1===this.options||"undefined"==typeof this.options[this.active]?app.request("options",{namespace:this.active}).then(a=>{this.options=!1===this.options?{}:this.options,this.options[this.active]=a.data,this.settings=this.options[this.active]}):a in this.options?"object"==typeof this.options?this.active in this.options&&this.options[this.active]?(this.settings=this.options[this.active].map(function(a){return Object(a)}),this.changes=this.settings.map(function(a){return a.name||0})):this.settings=!1:this.settings=!1:this.settings=!1},save:function(a,b){app.request("saveOption",{namespace:a.namespace||"*"||"basic",name:a.name||"default",value:b}).then()},saveWaitKeyUp:function(a,b){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.save(a,b)},800)}}})});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUwsQ0FBYyxHQUFkLENBQWtCLFNBQVUsQ0FBVixDQUFrQixDQUMvQyxNQUFPLENBQUEsQ0FBTSxDQUFDLElBQVAsRUFBZSxDQUN6QixDQUZjLENBekJxQixFQWdDcEMsS0FBSyxRQUFMLEdBaENvQyxDQXNDeEMsS0FBSyxRQUFMLEdBdEN3QyxDQTRDNUMsS0FBSyxRQUFMLEdBS1gsQ0FwREksQ0F1REwsSUFBSSxDQUFFLFNBQVUsQ0FBVixDQUFrQixDQUFsQixDQUF5QixDQUczQixHQUFHLENBQUMsT0FBSixDQUFZLFlBQVosQ0FBMEIsQ0FDdEIsU0FBUyxDQUFFLENBQU0sQ0FBQyxTQUFQLEVBQW9CLEdBQXBCLEVBQTJCLE9BRGhCLENBRXRCLElBQUksQ0FBRSxDQUFNLENBQUMsSUFBUCxFQUFlLFNBRkMsQ0FHdEIsS0FBSyxDQUFFLENBSGUsQ0FBMUIsRUFJRyxJQUpILEVBTUgsQ0FoRUksQ0FtRUwsYUFBYSxDQUFFLFNBQVUsQ0FBVixDQUFrQixDQUFsQixDQUF5QixDQUNoQyxLQUFLLEtBRDJCLEdBRWhDLFlBQVksQ0FBQyxLQUFLLEtBQU4sQ0FGb0IsQ0FHaEMsS0FBSyxLQUFMLENBQWEsSUFIbUIsRUFLcEMsS0FBSyxLQUFMLENBQWEsVUFBVSxDQUFDLElBQU0sQ0FDMUIsS0FBSyxJQUFMLENBQVUsQ0FBVixDQUFrQixDQUFsQixDQUNILENBRnNCLENBRXBCLEdBRm9CLENBRzFCLENBM0VJLENBbERMLENBQVIsQ0FrSUgsQ0FqSkQsQyIsImZpbGUiOiJhZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlbGNvbWUgdG8gdGhlIHNvdXJjZSBjb2RlXG4gKlxuICog4paI4paI4paI4pWX4paR4paR4paR4paI4paI4paI4pWX4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWX4paR4paR4paR4paR4paR4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAgICDilpHilpHilpHilpHilpHilojilojilZfilpHilojilojilojilojilojilojilZdcbiAqIOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICAg4paR4paR4paR4paR4paR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdXG4gKiDilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZfilpHilpHilojilojilZHilpHilpHilpHilpHilpHilojilojilojilojilojilZfilpHilpEgICAgICAgIOKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWR4pWa4paI4paI4pWU4pWd4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWd4paR4paR4paI4paI4pWR4paR4paR4paR4paR4paR4paI4paI4pWU4pWQ4pWQ4pWd4paR4paRICAgICAgICDilojilojilZfilpHilpHilojilojilZHilpHilZrilZDilZDilZDilojilojilZdcbiAqIOKWiOKWiOKVkeKWkeKVmuKVkOKVneKWkeKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICAg4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4pWU4pWdXG4gKiDilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ0gICAgICAgIOKWkeKVmuKVkOKVkOKVkOKVkOKVneKWkeKVmuKVkOKVkOKVkOKVkOKVkOKVneKWkVxuICpcbiAqIOKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKWiOKVl+KWiOKWiOKVl+KWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKVl+KWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWkVxuICog4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4pWX4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXXG4gKiDilojilojilojilojilojilojilojilZHilojilojilZHilpHilpHilojilojilZHilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilZHilojilojilZTilojilojilZfilojilojilZHilojilojilZHilZrilojilojilojilojilojilZfilpHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilpHilojilojilZHilpHilpHilojilojilZHilojilojilojilojilojilojilZTilZ1cbiAqIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVkeKWkeKVmuKVkOKVkOKVkOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl1xuICog4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4pWa4pWQ4pWd4paR4paI4paI4pWR4paI4paI4pWR4paI4paI4pWR4paR4pWa4paI4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWd4paR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paI4paI4pWR4paI4paI4pWR4paR4paR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4paR4paR4paR4pWa4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paR4paR4paI4paI4pWRXG4gKiDilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilpHilpHilpHilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZDilZ3ilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ3ilpHilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilZrilZDilZ3ilZrilZDilZ3ilpHilpHilZrilZDilZ3ilpHilpHilpHilZrilZDilZ3ilpHilpHilpHilpHilZrilZDilZDilZDilZDilZ3ilpHilZrilZDilZ3ilpHilpHilZrilZDilZ1cbiAqXG4gKlxuICpcbiAqIEBwYWNrYWdlIE1pcmVsZVxuICogQGF1dGhvciBNaXJlbGVcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKlxuICogQHNlZSBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShpbml0ID0+IHtcblxuICAgIGxldCAkID0galF1ZXJ5O1xuXG4gICAgLy8gQ2hlY2sgaWYgVnVlIGluY2x1ZGVcbiAgICBpZiAodHlwZW9mIFZ1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyAnVnVlSlMgbm90IGluY2x1ZGUnO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGpRdWVyeSBpbmNsdWRlXG4gICAgaWYgKHR5cGVvZiAkICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93ICdqUXVlcnkgbm90IGluY2x1ZGUnO1xuICAgIH1cblxuICAgIC8vIFZVRSBDb21wb25lbnRzXG4gICAgbmV3IFZ1ZSh7XG4gICAgICAgIGRlbGltaXRlcnM6IFsneycsICd9J10sXG4gICAgICAgIGVsOiAnI21pcmVsZVRoZW1lU2V0dGluZ3MnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuXG4gICAgICAgICAgICAvLyBUYWJzIG9uIHBhZ2UgKFJlbmRlcilcbiAgICAgICAgICAgIHRhYnM6IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogJ0Jhc2ljIHNldHRpbmdzJywgbmFtZXNwYWNlOiAnYmFzaWMnLCBpZDogJ2Jhc2ljJ30sXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICAvLyBTZXR0aW5nIG9uIHBhZ2UgKFJlbmRlcilcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXSxcblxuICAgICAgICAgICAgLy8gQWxsIHNldHRpbmdzXG4gICAgICAgICAgICBvcHRpb25zOiBmYWxzZSxcblxuICAgICAgICAgICAgLy8gQ2hhbmdlc1xuICAgICAgICAgICAgY2hhbmdlczogW11cbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvLyBUcnkgZ2V0IGFsbCBuYW1lc3BhY2VzXG4gICAgICAgICAgICBhcHAucmVxdWVzdCgnbmFtZXNwYWNlcycsIHt9KS50aGVuKGV2ZW50ID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGFicyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFicyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBuYW1lXSBvZiBPYmplY3QuZW50cmllcyhldmVudC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVHJ5IGdldCBhbGwgb3B0aW9uc1xuICAgICAgICAgICAgYXBwLnJlcXVlc3QoJ29wdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlOiAnYWxsJ1xuICAgICAgICAgICAgfSkudGhlbihldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gKHR5cGVvZiBldmVudC5kYXRhID09PSB0eXBlb2YgW10gPyBldmVudC5kYXRhIDogZmFsc2UpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBhY3RpdmUgdGFiXG4gICAgICAgICAgICBzZWxlY3RUYWI6IGZ1bmN0aW9uIChuYW1lc3BhY2UgPSAnKicsIG5hbWUgPSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IG5hbWUgfHwgJyonIHx8ICdiYXNpYyc7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBvcHRpb25zIGlzIG5vdCBleGlzdCB0aGVuIGdldCBvcHRpb25zIGZvciBjdXJyZW50IHRhYlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLm9wdGlvbnNbdGhpcy5hY3RpdmVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBhcHAucmVxdWVzdCgnb3B0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogdGhpcy5hY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgPT09IGZhbHNlID8ge30gOiB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5hY3RpdmVdID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLm9wdGlvbnNbdGhpcy5hY3RpdmVdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBvcHRpb25zIGlzIGZvdW5kIHRoZW4gZ2V0IGl0IGZyb20gbG9jYWwgbWVtb3J5XG4gICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW9uIHBhZ2UgZXhpc3RzP1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZXNwYWNlIGluIHRoaXMub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUgaW4gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9uc1t0aGlzLmFjdGl2ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHRoaXMub3B0aW9uc1t0aGlzLmFjdGl2ZV0ubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5zZXR0aW5ncy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5uYW1lIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgbWVzc2FnZSBhYm91dCBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IG1lc3NhZ2UgYWJvdXQgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgbWVzc2FnZSBhYm91dCBlcnJvclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBTYXZlXG4gICAgICAgICAgICBzYXZlOiBmdW5jdGlvbiAob3B0aW9uLCB2YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHNhdmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICBhcHAucmVxdWVzdCgnc2F2ZU9wdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcHRpb24ubmFtZXNwYWNlIHx8ICcqJyB8fCAnYmFzaWMnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb24ubmFtZSB8fCAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKTtcblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gV2FpdCBrZXkgdXBcbiAgICAgICAgICAgIHNhdmVXYWl0S2V5VXA6IGZ1bmN0aW9uIChvcHRpb24sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmUob3B0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSwgODAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSk7XG5cbn0pO1xuIl19